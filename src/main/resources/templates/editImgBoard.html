<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <title>Giggle</title>
    <link href="/static/SBadmin2/sb-admin-2.min.css" rel="stylesheet">
    <link href="/static/style/formStyle.css" rel="stylesheet">

    <link href="C:\Users\user\IdeaProjects\Giggle\src\main\resources\static\SBadmin2\sb-admin-2.min.css" rel="stylesheet">
    <script src="C:\Users\user\IdeaProjects\Giggle\src\main\resources\static\script\jquery-3.5.1.js"></script>
    <script src="C:\Users\user\IdeaProjects\Giggle\src\main\resources\static\script\jquery.twbsPagination.min.js"></script>

</head>

<body class="text-center">
<div class="container">
    <br>
    <h3 class="font-black">Giggle</h3>
    <br>
    <p class="font-black" th:if="${message} == null" >Edit img board</p>
    <p style="color:red" th:if="${message} != null"  th:text="${message}"></p>
    <br>

    <div style="
    font-size: 25px;
    text-align: left;
    color: black;
    font-weight: 900;
    ">사진 추가</div>

    <form class="form text-left" action="/main/edit/imgBoard/add" method="post" enctype="multipart/form-data">

        <div id="addedFormDiv"></div><BR> <!-- 폼을 삽입할 DIV -->

        <input type="Button" value="추가" onclick="addForm()">

        <input type="Button" value="제거" onclick="delForm()">
        <br>
        <br>
        <button class="btn btn-lg btn-primary btn-block" type="submit">적용</button>
    </form>
    <br>

    <div style="
    font-size: 25px;
    text-align: left;
    color: black;
    font-weight: 900;
    ">사진 제거</div>
    <form class="form text-left" action="/main/edit/imgBoard/delete" method="get">

        <th:block>

        </th:block>

    </form>
    <br>
    <div th:replace="/fragment/mainImgBoard :: mainImgBoard"></div>
</div>

<style>
</style>

<script type="text/javascript">

   var count = 0;
   var limitCnt = 5;

   function addForm(){

     // 파일 추가 시, 경로 input에 올라오고 input-file reset
<!--     var fileValue = $("#addedFile").val();   // 파일 경로-->
<!--     var fileName = fileValue.split("\\")[fileValue.length-1]; // 파일명-->
<!--     document.getElementById("addedFile").value = "";-->

     if(count>limitCnt){
        alert("파일은 한번에 5개까지 추가 가능합니다.");
        return;
     }

     var addedFormDiv = document.getElementById("addedFormDiv");
     var str = "";
     str+="<br>추가 파일 :: <input type='file' name='add_"+count+"'>";

     // 추가할 폼(에 들어갈 HTML)
     var addedDiv = document.createElement("div"); // 폼 생성
     addedDiv.id = "added_"+count; // 폼 Div에 ID 부여 (삭제를 위해)
     addedDiv.innerHTML  = str; // 폼 Div안에 HTML삽입
     addedFormDiv.appendChild(addedDiv); // 삽입할 DIV에 생성한 폼 삽입

     count++;
   }


   function delForm(){
     var addedFormDiv = document.getElementById("addedFormDiv");
     if(count >0){
        var addedDiv = document.getElementById("added_"+(--count));
        addedFormDiv.removeChild(addedDiv); // 폼 삭제
     }
   }

</script>

<!-- BottomScript-->
<div th:replace="/fragment/bottomScript :: bottomScript"> </div>

</body>
</html>

